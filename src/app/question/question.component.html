<div class="mt-5 container">
    <ng-container *ngIf="!isQuizCompeted">
        <mat-card>
            <mat-card-header class=" ms-2 ">
                <mat-card-title class="font-monospace">
                    <span  class="fs-3">Awesome quiz aplication</span> 
                    <div class=" ms-5 badge bg-primary text-wrap" style="width: 8rem;">
                        Time of <kbd>{{counter}}</kbd>
                    </div>
                </mat-card-title>
                <mat-card-subtitle>
                    <div class="d-flex justify-content-between align-items-center">
                        <p class="me-5 text-primary">{{points}} points</p>
                        <p class="me-3 text-success-emphasis">question {{currentQuestion + 1}} of {{questionList.length}}</p>
                    </div>
                </mat-card-subtitle>
            </mat-card-header>   
            <div class="progress me-2 ms-2" role="progressbar" aria-label="Basic example" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                <div class=" progress-bar" [ngStyle]="{'width':progres+'%'}"></div>
              </div>   
            <mat-card-content>
                <div class="me-2 ms-3 mt-3 ">
                    <h4 class="font-monospace">
                        {{questionList[currentQuestion].questionText}}
                    </h4>
                </div>
                <div>
                    <ul class="list-group">
                        @for (option of questionList[currentQuestion].options; track option) {
                        <li class="font-monospace fw-bold" appChangeBg [isCorrect]="option.correct"  (click)="answer(currentQuestion+1,option)" class="list-group-item">{{option.text}}</li>
                        }
                    </ul>                       
                </div>
            </mat-card-content> 
            <mat-card-actions align="end">
                <button color="primary" [disabled]="currentQuestion === 0" mat-raised-button (click)="prevQuestion()"><mat-icon>arrow_back_ios</mat-icon></button>
                <span style=" flex: 1 1 auto;"></span>
                <button  mat-raised-button (click)="resetGame()" color="primary"><mat-icon>autorenew</mat-icon></button>
                <span style=" flex: 1 1 auto;"></span>
                <button [disabled]="currentQuestion === questionList.length - 1" mat-raised-button (click)="nextQuestion()" color="primary"><mat-icon>arrow_forward_ios</mat-icon></button>
            </mat-card-actions>
        </mat-card>
    </ng-container>
    <ng-container *ngIf="isQuizCompeted">
        <mat-card class="example-card">
            <mat-card-header>
              <mat-card-title  class="text-center font-monospace fw-bolder" >You've completed the Quiz!</mat-card-title>
              <mat-card-subtitle  class="text-center font-monospace fw-bolder">
                <p>and congrasts!  You got  out <span class="text-primary">{{correctAnswer}}</span> of
                    <span class="text-primary"> {{questionList.length}}</span>
                 </p>
                <p>your score:<span class="text-primary">{{points}}points</span></p>
            </mat-card-subtitle>
            </mat-card-header>
            <mat-card-actions>
                <button  mat-raised-button (click)="resetGame()" color="primary"><mat-icon>autorenew</mat-icon></button>
                <span style=" flex: 1 1 auto;"></span>
                <button routerLink="/home" mat-stroked-button>home</button>    
            </mat-card-actions>
            <mat-card-footer>
              <mat-progress-bar mode="indeterminate"></mat-progress-bar>
            </mat-card-footer>
          </mat-card>
    </ng-container>
      

</div>